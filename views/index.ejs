<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
    integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    
    .container {
      display: flex;
      justify-content: space-between;
      margin: 20px auto;
      padding: 20px;
      width: 60%;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    table {
      width: 100%;
      /* Adjust the width as needed */
      border-collapse: collapse;
    }

    th,
    td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background-color: #f2f2f2;
    }

    input[type="number"] {
      width: 100%;
      padding: 5px;
      box-sizing: border-box;
    }

    /* Adjustments for small screens */
   
    html,
    body {
      height: 100%;
    }

    html {
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      font-size: 16px;
    }

    *,
    *:before,
    *:after {
      -moz-box-sizing: inherit;
      box-sizing: inherit;
    }

    body {
      margin: 0;
      line-height: 1.5;
      font-family: Roboto, Helvetica, Arial, sans-serif;
      background-color:antiquewhite;
    }


    /* main ie fix */

    main {
      display: block;
    }


    /* headers */

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: "Roboto Slab", Times, "Times New Roman", serif;
    }

    h1 {
      font-size: 2.2em;
    }

    h2 {
      font-size: 2em;
    }

    h3 {
      font-size: 1.8em;
    }

    h4 {
      font-size: 1.6em;
    }

    h5 {
      font-size: 1.4em;
    }

    h6 {
      font-size: 1.2em;
    }


    /* anchor links */

    a {
      color: #009688;
    }

    a:hover,
    a:active {
      text-decoration: none;
    }


    /* inline block */

    .ib {
      display: -moz-inline-stack;
      display: inline-block;
      zoom: 1;
      display: inline;
      vertical-align: top;
    }


    /* ul-reset */

    .ul-reset {
      padding-left: 0;
      margin-top: 0;
      margin-bottom: 0;
      list-style: none;
    }


    /* wrapper */

    .image {
      
      width: 50%;
      margin-right: auto;
      margin-left: auto;
      padding-right: 20px;
      padding-left: 20px;
    }


    /* header */

    .header {
      text-align: center;
    }


    /* navigation */

    .navigation {
      background-color: #eee;
      font-weight: 700;
    }

    .navigation-list {
      font-size: 0;
      padding-top: 10px;
      padding-bottom: 10px;
    }

    .navigation-item {
      font-size: 1.2rem;
    }

    .navigation-link {
      display: block;
      position: relative;
      padding: 5px 20px;
      text-decoration: none;
      color: #333;
      -webkit-transition: color .2s ease-in-out;
      transition: color .2s ease-in-out;
    }

    .navigation-link:before {
      content: "";
      position: absolute;
      bottom: 0;
      width: 0;
      border-bottom: solid 2px;
    }

    .navigation-link:before {
      left: 0;
    }

    .navigation-link:hover {
      color: #009688;
    }

    .navigation-link:hover:before {
      width: 100%;
    }

    .navigation-link:before {
      -webkit-transition: width .2s ease-in-out;
      transition: width .2s ease-in-out;
    }


    /* main */

    .main {
      padding-top: 20px;
      padding-bottom: 20px;
    }

    .content-article {
      margin-top: 80px;
    }

    .content-article:first-child {
      margin-top: 0;
    }

    .content-article>h1:first-child {
      margin-top: 0;
    }
    .logo {
  max-width: 100%;
  height: auto;
}


/* Navigation */
.navigation {
  background-color: #eee;
  font-weight: bold;
}

.navigation-list {
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
}

.navigation-item {
  list-style-type: none;
}

.navigation-link {
  text-decoration: none;
  color: #333;
  padding: 5px 20px;
  position: relative;
}

.navigation-link:hover {
  color: #009688;
}

/* Table Styling */
.budget-table {
  width: 100%;
  border-collapse: collapse;
}

.budget-table th,
.budget-table td {
  padding: 10px;
  border-bottom: 1px solid #ddd;
}

.budget-table th {
  background-color: #f2f2f2;
  text-align: left;
}


    
  </style>
</head>

<body>
  <div style="background-color: antiquewhite;margin-left: 20px;">
  <header class="header" style="width: 1000px;border:5px solid black;border-radius: 10px;margin-left: 110px;">
    <div class="image">
      <img src="/logo.jpeg" width:200px;>
      <div ><b>Welcome <%=email%></b></div>
    </div>
    <a href="/logout" style="display: block; margin-left: 870px; margin-bottom: 20px;">
      <button style="padding: 10px 20px; background-color: #f42f2f; color: #fff; border: none; border-radius: 5px; cursor: pointer;">Log out</button>
  </a> <div style="width:100%;border:2px solid black" >
    <nav class="navigation">
      <div class="wrapper">
        <ul class="navigation-list ul-reset">
          <li class="navigation-item ib">
            <a href="/dashboard" class="navigation-link">Home</a>
          </li>
          <li class="navigation-item ib">
            <a href="/sql/budgetform" class="navigation-link">Budget form</a>
          </li>
          <li class="navigation-item ib">
            <a href="/sql/budgetinfo" class="navigation-link">Report</a>
          </li>
        
          <li class="navigation-item ib">
            <a href="/sql/budgettotal" class="navigation-link">Total</a>
          </li>
          
        </ul>
      </div>

    </nav>
  </div>
    
  </header>
</div>






  <div id="invoice" style="background-color:rgb(110, 38, 2); width: 1000px; margin-left: 130px; padding: 20px;border:2px solid black;border-radius: 10px;"  >
    <% if (typeof message !== 'undefined' && message) { %>
      <div style="text-align: center;color: black;"><%= message %></div>
    <% } %>
    <div class="container" style="background-color:aliceblue;" >

      <form id="budgetForm" action="/sql/submit" method="post">
        <table class="budget-table">
          <thead>
            <tr>
              <td>Academic Year</td>
              <td><input type="text" name="academicyear" id="academicyear"
                  title="Enter the academic year in the format YYYY-YY" required></td>
            </tr>

            <tr>

              <td>Branch</td>
              <td>
                <span><%=department%></span>
                <input type="hidden" name="department" id="department" value='<%=department%>'>
               
                  
               
              </td>
            </tr>

            <tr>
              <th>Particulars</th>
              <th>Proposed Budget</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <h2>Income</h2>
              </td>
              <td></td>
            </tr>
            <tr>

              <td>
                <h3>Tuition Fee</h3>
              </td>

            </tr>
            <tr>
              <td>B.Tech</td>
              <td><input type="number" name="in1" id="income" required></td>
            </tr>
            <tr>
              <td>M.Tech</td>
              <td><input type="number" name="in2" id="income" required></td>
            </tr>
            <tr>
              <td><b>Research Grants</b></td>
              <td><input type="number" name="in3" id="income" required></td>
            </tr>
            <tr>
              <td><b>Hospital Revenue (clinic wise)</b></td>
              <td><input type="number" name="in4" id="income" required></td>
            </tr>
            <tr>
              <td><b>Hostel Fee and Mess Fee</b></td>
              <td><input type="number" name="in5" id="income" required></td>
            </tr>
            <tr>
              <td><b>Transportation Fee</b></td>
              <td><input type="number" name="in6" id="income" required></td>
            </tr>
            <tr>
              <td><b>Other Revenue (Radio Vishnu 90.4)</b></td>
              <td><input type="number" name="in7" id="income" required></td>
            </tr>
            <tr>
              <td></td>
              <td><b>Total</b><input type="number" id="totalin" name="totalin" required></td>
            </tr>

            <tr>
              <td>
                <h2>Expenditure - Recurring</h2>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <h3>Physical Expenditure</h3>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>Advertisement Expenses</td>
              <td><input type="number" name="pe1" id="physical" required></td>
            </tr>
            <tr>
              <td>Audit Fee</td>
              <td><input type="number" name="pe2" id="physical" required></td>
            </tr>
            <tr>
              <td>Bank Charges</td>
              <td><input type="number" name="pe3" id="physical" required></td>
            </tr>
            <tr>
              <td>Books and Periodicals, Journals</td>
              <td><input type="number" name="pe4" id="physical" required></td>
            </tr>
            <tr>
              <td>Electricity Charges</td>
              <td><input type="number" name="pe5" id="physical" required></td>
            </tr>
            <tr>
              <td>Financial Charges / Interest Charges</td>
              <td><input type="number" name="pe6" id="physical" required></td>
            </tr>
            <tr>
              <td>General Expenses</td>
              <td><input type="number" name="pe7" id="physical" required></td>
            </tr>
            <tr>
              <td>Guest House Maintenance</td>
              <td><input type="number" name="pe8" id="physical" required></td>
            </tr>
            <tr>
              <td>Horticulture Expenses</td>
              <td><input type="number" name="pe9" id="physical" required></td>
            </tr>
            <tr>
              <td>House Keeping Charges</td>
              <td><input type="number" name="pe10" id="physical" required></td>
            </tr>
            <tr>
              <td>Students Insurance and Building Insurance</td>
              <td><input type="number" name="pe11" id="physical" required></td>
            </tr>
            <tr>
              <td>Professional Charges</td>
              <td><input type="number" name="pe12" id="physical" required></td>
            </tr>
            <tr>
              <td>Rates and Taxes, Professional Tax, Property Tax</td>
              <td><input type="number" name="pe13" id="physical" required></td>
            </tr>
            <tr>
              <td>
                <h4>Repairs and Maintenance</h4>
              </td>
              <td></td>
            </tr>
            <ul>
              <tr>
                <td>
                  <p style="margin-left: 200px;">Building Maintenance</p>
                </td>
                <td><input type="number" name="pe14" id="physical" required></td>
              </tr>
              <tr>
                <td>
                  <p style="margin-left: 200px;">Vehicle Maintenance</p>
                </td>
                <td><input type="number" name="pe15" id="physical" required></td>
              </tr>
              <tr>
                <td>
                  <p style="margin-left: 200px;">Electrical Maintenance</p>
                </td>
                <td><input type="number" name="pe16" id="physical" required></td>
              </tr>
              <tr>
                <td>
                  <p style="margin-left: 200px;">Computer Maintenance</p>
                </td>
                <td><input type="number" name="pe17" id="physical" required></td>
              </tr>
              <tr>
                <td>
                  <p style="margin-left: 200px;">Generator Maintenance</p>
                </td>
                <td><input type="number" name="pe18" id="physical" required></td>
              </tr>
              <tr>
                <td>
                  <p style="margin-left: 200px;">Furniture Maintenance</p>
                </td>
                <td><input type="number" name="pe19" id="physical" required></td>
              </tr>
            </ul>
            <tr>
              <td>Security Charges</td>
              <td><input type="number" name="pe20" id="physical" required></td>
            </tr>
            <tr>
              <td>Telephone Charges</td>
              <td><input type="number" name="pe21" id="physical" required></td>
            </tr>
            <tr>
              <td>Transporatation of Goods and Service</td>
              <td><input type="number" name="pe22" id="physical" required></td>
            </tr>
            <tr>
              <td>Water Treatment Plant Maintenance</td>
              <td><input type="number" name="pe23" id="physical" required></td>
            </tr>
            <tr>
              <td>Sewage Treatment Plant Expenses</td>
              <td><input type="number" name="pe24" id="physical" required></td>
            </tr>

            <tr>
              <td><b style="margin-left: 150px;">Total A</b></td>
              <td><input type="number" id="totalA" name="totalA" required></td>
            </tr>
            <tr>
              <td>
                <h2>Academic Expenditure</h2>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>Statutory Inspections and Accreditation Expenses</td>
              <td><input type="number" id="academic" name="ae1" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">NBA / NAAC/ Autonomous/ FFC</p>
              </td>
              <td><input type="number" id="academic" name="ae2" required></td>
            </tr>
            <tr>
              <td>Affiliation Fee</td>
              <td><input type="number" id="academic" name="ae3" required></td>
            </tr>
            <tr>
              <td>JNTU Common Service Fees</td>
              <td><input type="number" id="academic" name="ae4" required></td>
            </tr>
            <tr>
              <td>Students Gifts, Merit Prizes</td>
              <td><input type="number" id="academic" name="ae5" required></td>
            </tr>
            <tr>
              <td>Governing Body Expenses</td>
              <td><input type="number" id="academic" name="ae6" required></td>
            </tr>
            <tr>
              <td>Faculty Car Hire Charges</td>
              <td><input type="number" id="academic" name="ae7" required></td>
            </tr>
            <tr>
              <td>Faculty Development Programs</td>
              <td><input type="number" id="academic" name="ae8" required></td>
            </tr>
            <tr>
              <td>Examination Expenses, Board of Study Expenses</td>
              <td><input type="number" id="academic" name="ae9" required></td>
            </tr>
            <tr>
              <td>Staff Conveyance and Travelling Expenses</td>
              <td><input type="number" id="academic" name="ae10" required></td>
            </tr>
            <tr>
              <td>Hospital/ Stifund Expenses</td>
              <td><input type="number" id="academic" name="ae11" required></td>
            </tr>
            <tr>
              <td>Hospitality Charges</td>
              <td><input type="number" id="academic" name="ae12" required></td>
            </tr>
            <tr>
              <td>Inspection Charges (AICTE / JNTU/NTRUHS)</td>
              <td><input type="number" id="academic" name="ae13" required></td>
            </tr>
            <tr>
              <td>Internet / Website Expenses</td>
              <td><input type="number" id="academic" name="ae14" required></td>
            </tr>
            <tr>
              <td>
                <h4>Students Extra Co-Curricular Activities</h4>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">1st Induction Program</p>
              </td>
              <td><input type="number" id="academic" name="ae15" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Annual Day Expenses</p>
              </td>
              <td><input type="number" id="academic" name="ae16" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Specify and other Functions</p>
              </td>
              <td><input type="number" id="academic" name="ae17" required></td>
            </tr>
            <tr>
              <td>
                <h4>Lab Maintenance</h4>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Consumables</p>
              </td>
              <td><input type="number" id="academic" name="ae18" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Glasswares</p>
              </td>
              <td><input type="number" id="academic" name="ae19" required></td>
            </tr>
            <tr>
              <td>Membership, Certification Exps</td>
              <td><input type="number" id="academic" name="ae20" required></td>
            </tr>
            <tr>
              <td>PG New Courses/ New Colleges</td>
              <td><input type="number" id="academic" name="ae21" required></td>
            </tr>
            <tr>
              <td>Postage and Courier Charges</td>
              <td><input type="number" id="academic" name="ae22" required></td>
            </tr>
            <tr>
              <td>Printing and Stationery</td>
              <td><input type="number" id="academic" name="ae23" required></td>
            </tr>
            <tr>
              <td>
                <h4>Research and Development</h4>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">In House R & D</p>
              </td>
              <td><input type="number" id="academic" name="ae24" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Consultancy Incentives</p>
              </td>
              <td><input type="number" id="academic" name="ae25" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Seed Funding</p>
              </td>
              <td><input type="number" id="academic" name="ae26" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Incentives for Paper Publication</p>
              </td>
              <td><input type="number" id="academic" name="ae27" required></td>
            </tr>
            <tr>
              <td>
                <p style="margin-left: 150px;">Incentives on Patents</p>
              </td>
              <td><input type="number" id="academic" name="ae28" required></td>
            </tr>
            <tr>
              <td>Seminar and Workshops</td>
              <td><input type="number" id="academic" name="ae29" required></td>
            </tr>
            <tr>
              <td>Students Extra Curricular Activities (Student Development Programs)</td>
              <td><input type="number" id="academic" name="ae30" required></td>
            </tr>
            <tr>
              <td>Remunerations to Visiting Faculty</td>
              <td><input type="number" id="academic" name="ae31" required></td>
            </tr>
            <tr>
              <td>Placement, Training and Rectruitment Cell</td>
              <td><input type="number" id="academic" name="ae32" required></td>
            </tr>
            <tr>
              <td>FM / VTV Maintenance</td>
              <td><input type="number" id="academic" name="ae33" required></td>
            </tr>
            <tr>
              <td>Students Concession fee</td>
              <td><input type="number" id="academic" name="ae34" required></td>
            </tr>
            <tr>
              <td>Grants Expenditure</td>
              <td><input type="number" id="academic" name="ae35" required></td>
            </tr>
            <tr>
              <td>Board of Study Expenses</td>
              <td><input type="number" id="academic" name="ae36" required></td>
            </tr>

            <tr>
              <td><b style="margin-left: 150px;">Total B</b></td>
              <td><input type="number" id="totalB" name="totalB" required></td>
            </tr>
            <tr>
              <td>
                <h2>Personnel Expenses</h2>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>Salaries and Wages</td>
              <td><input type="number" id="personnel" name="per1" required></td>
            </tr>
            <tr>
              <td>Provident Fund (EPF+FPF)</td>
              <td><input type="number" id="personnel" name="per2" required></td>
            </tr>
            <tr>
              <td>Staff Welfare</td>
              <td><input type="number" id="personnel" name="per3" required></td>
            </tr>
            <tr>
              <td>Contribution to ESI</td>
              <td><input type="number" id="personnel" name="per4" required></td>
            </tr>
            <tr>
              <td>Mediclaim</td>
              <td><input type="number" id="personnel" name="per5" required></td>
            </tr>
            <tr>
              <td>Gratuity Provision / Premium</td>
              <td><input type="number" id="personnel" name="per6" required></td>
            </tr>

            <tr>
              <td><b style="margin-left: 150px;">Total C</b></td>
              <td><input type="number" id="totalC" name="totalC" required></td>
            </tr>
            <tr>
              <td><b style="margin-left: 150px;">Total D= (A+B+C)</b></td>
              <td><input type="number" id="totalD" name="totalD" required></td>
            </tr>
           
            <tr>
              <td>
                <h2>Non Recurring Expenditure</h2>
              </td>
              <td></td>
            </tr>
            <tr>
              <td>Infrastructure Requirements</td>
              <td><input type="number" id="expenditure" name="nre1" required></td>

            </tr>
            <tr>
              <td>Lab Equipments</td>
              <td><input type="number" id="expenditure" name="nre2" required></td>

            </tr>
            <tr>
              <td>Computers and Peripherals</td>
              <td><input type="number" id="expenditure" name="nre3" required></td>

            </tr>
            <tr>
              <td>Softwares of all Departments</td>
              <td><input type="number" id="expenditure" name="nre4" required></td>

            </tr>
            <tr>
              <td>Furniture and Fixtures</td>
              <td><input type="number" id="expenditure" name="nre5" required></td>

            </tr>
            <tr>
              <td>Air Conditioner / Projectors / UPS</td>
              <td><input type="number" id="expenditure" name="nre6" required></td>

            </tr>
            <tr>
              <td>Electrical Equipment</td>
              <td><input type="number" id="expenditure" name="nre7" required></td>

            </tr>
            <tr>
              <td>Library Books and Journals</td>
              <td><input type="number" id="expenditure" name="nre8" required></td>

            </tr>
            <tr>
              <td>Sports Equipment</td>
              <td><input type="number" id="expenditure" name="nre9" required></td>

            </tr>
            <tr>
              <td>Motor Vehicles</td>
              <td><input type="number" id="expenditure" name="nre10" required></td>

            </tr>
            <tr>
              <td><b style="margin-left: 150px;">TotalE:</b></td>
              <td><input type="number" id="totalE" name="totalE" required></td>
            </tr>
            <tr>
              <td><b style="margin-left: 150px;">Total</b></td>
              <td><input type="number" id="total" name="total" required></td>
            </tr>
           


          </tbody>
        </table>
        <button type="submit" style="padding: 10px 20px; background-color: #81ed73; color: #fff; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
       
      </form>


    </div>

  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.4/xlsx.full.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const inputFields = document.querySelectorAll('input[type="number"]');
      let downloadedData = [];
      // Initialize all input values with zeroes and add event listeners
      inputFields.forEach(inputField => {
        inputField.value = 0; // Set default value to 0
        inputField.addEventListener('focus', function () {
          // Clear default value when the input field is focused
          if (this.value === '0') {
            this.value = '';
          }
        });
        inputField.addEventListener('blur', function () {
          // Restore default value if no value is entered and another input is selected
          if (this.value === '') {
            this.value = '0';
          }
        });
      });
  // Function to calculate total based on the section (income, physical, academic, personnel)
  function calculateTotal(section) {
    let total = 0;
    document.querySelectorAll(`input[id^="${section}"]`).forEach(input => {
      total += parseFloat(input.value) || 0;
    });
    return total;
  }

  // Add input event listener to each input field
  document.querySelectorAll('input[type="number"]').forEach(inputField => {
    inputField.addEventListener('input', function () {
      // Calculate total income
      const totalIncome = calculateTotal('income');

      // Calculate total A for physical expenditure
      const totalA = calculateTotal('physical');

      // Calculate total B for academic expenditure
      const totalB = calculateTotal('academic');

      // Calculate total C for personnel expenses
      const totalC = calculateTotal('personnel');

      // Calculate total D = (A + B + C)
      const totalD = totalA + totalB + totalC;
      const totalE= calculateTotal('expenditure');
      // Calculate total for all fields
      const total = totalIncome + totalD +totalE;

      // Update the total fields
      document.getElementById('totalin').value = totalIncome;
      document.getElementById('totalA').value = totalA;
      document.getElementById('totalB').value = totalB;
      document.getElementById('totalC').value = totalC;
      document.getElementById('totalD').value = totalD;
      document.getElementById('totalE').value = totalE;
      document.getElementById('total').value = total;
    });
  });

 
  
 
});

  </script>
</body>

</html>